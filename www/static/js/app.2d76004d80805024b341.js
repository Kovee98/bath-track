webpackJsonp([1],{FRQI:function(t,e){},GK12:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),r=(a("GK12"),{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[this._m(0),this._v(" "),e("router-view")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("nav",{staticClass:"navbar is-primary",attrs:{role:"navigation","aria-label":"main navigation"}},[e("div",{staticClass:"navbar-brand"},[e("h1",{staticClass:"navbar-item"},[this._v("Bath Track")]),this._v(" "),e("a",{staticClass:"navbar-burger",attrs:{role:"button","aria-label":"menu","aria-expanded":"false"}},[e("span",{attrs:{"aria-hidden":"true"}}),this._v(" "),e("span",{attrs:{"aria-hidden":"true"}}),this._v(" "),e("span",{attrs:{"aria-hidden":"true"}})])])])}]});var i,n=a("VU/8")({name:"App"},r,!1,function(t){a("r7Kv")},null,null).exports,c=a("/ocq"),l=a("Xxa5"),o=a.n(l),u=a("exGp"),v=a.n(u),d=a("mtWM"),h=a.n(d),p=this,m=function(t){var e=t.isAvailable?"B":"C",a=function(t){var e=2;return e+=2*(t.hour24-8),t.minute>=30&&(e+=1),e}(t.currentTime);return function(t){return h.a.get("https://sheets.googleapis.com/v4/spreadsheets/1iB3ztJ3NqhQpgmYuqTaJJRGckMEjuQpgdUO_UULrQC4/values/"+t.cell+"?key=AIzaSyAHLfr3RDEhd3swkRubU-5bINyFZzDpUPs").then(function(t){return parseInt(t.data.values[0][0])}).catch(function(t){throw Error(t)})}({cell:e+a}).then(function(e){var s=t.isAvailable?"https://hooks.zapier.com/hooks/catch/5048005/obrdkxs":"https://hooks.zapier.com/hooks/catch/5048005/obri02u";return s+="?row="+a+"&value="+(e+1)}).catch(function(t){throw Error(t)})},f={updateValue:(i=v()(o.a.mark(function t(e){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m({currentTime:e.currentTime,isAvailable:e.isAvailable});case 2:if(!(a=t.sent)){t.next=7;break}return t.abrupt("return",h.a.post(a));case 7:throw Error("Url is null");case 8:case"end":return t.stop()}},t,p)})),function(t){return i.apply(this,arguments)})},b={getCurrentTime:function(){var t=new Date,e=t.getHours(),a=(e+24)%12||12,s=t.getMinutes(),r=s<10?"0"+s:s;return{hour12:a,hour24:e,minute:s,time12:a+":"+r,time24:e+":"+r}}},g={name:"HelloWorld",data:function(){return{showSuccess:!1,showError:!1,currentTime:b.getCurrentTime()}},methods:{toggleSuccess:function(t){this.showSuccess=!this.showSuccess},toggleError:function(t){this.showError=!this.showError},available:function(){var t=this,e=this.$refs.available;e.classList.add("is-loading"),f.updateValue({currentTime:this.currentTime,isAvailable:!0}).then(function(e){return t.toggleSuccess(e)}).catch(function(e){return t.toggleError(e)}).finally(function(){e.classList.remove("is-loading")})},notAvailable:function(){var t=this,e=this.$refs.notAvailable;e.classList.add("is-loading"),f.updateValue({currentTime:this.currentTime,isAvailable:!1}).then(function(e){return t.toggleSuccess(e)}).catch(function(e){return t.toggleError(e)}).finally(function(){e.classList.remove("is-loading")})}}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section"},[a("h1",{staticClass:"subtitle is-1 has-centered-text box has-text-centered"},[t._v(t._s(t.currentTime.time12))]),t._v(" "),a("div",{staticClass:"buttons"},[a("a",{ref:"available",staticClass:"button is-primary is-fullwidth is-large",on:{click:t.available}},[t._v("Available")]),t._v(" "),a("a",{ref:"notAvailable",staticClass:"button is-danger is-fullwidth is-large",on:{click:t.notAvailable}},[t._v("Not Available")])]),t._v(" "),t.showSuccess?a("div",{staticClass:"modal is-active"},[a("div",{staticClass:"modal-background"}),t._v(" "),a("div",{staticClass:"modal-content"},[a("article",{staticClass:"message is-success"},[a("div",{staticClass:"message-header"},[a("p",[t._v("Success")]),t._v(" "),a("button",{staticClass:"delete",attrs:{"aria-label":"delete"},on:{click:t.toggleSuccess}})]),t._v(" "),a("div",{staticClass:"message-body"},[t._v("\n                    Spreadsheet successfully updated!\n                ")])])])]):t._e(),t._v(" "),t.showError?a("div",{staticClass:"modal is-active"},[a("div",{staticClass:"modal-background"}),t._v(" "),a("div",{staticClass:"modal-content"},[a("article",{staticClass:"message is-danger"},[a("div",{staticClass:"message-header"},[a("p",[t._v("Error")]),t._v(" "),a("button",{staticClass:"delete",attrs:{"aria-label":"delete"},on:{click:t.toggleError}})]),t._v(" "),a("div",{staticClass:"message-body"},[t._v("\n                    There was an error while trying to update the Spreadsheet.\n                ")])])])]):t._e()])},staticRenderFns:[]};var C=a("VU/8")(g,_,!1,function(t){a("FRQI")},"data-v-4260cd7a",null).exports;s.a.use(c.a);var w=new c.a({routes:[{path:"/",name:"HelloWorld",component:C}]});s.a.config.productionTip=!1,new s.a({el:"#app",router:w,components:{App:n},template:"<App/>"})},r7Kv:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.2d76004d80805024b341.js.map